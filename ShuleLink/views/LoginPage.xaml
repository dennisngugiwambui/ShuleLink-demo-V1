<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ShuleLink.Views.LoginPage"
             Title="Login"
             NavigationPage.HasNavigationBar="False">

    <Grid>
        <!-- Modern Gradient Background -->
        <BoxView>
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#667eea" Offset="0.0" />
                    <GradientStop Color="#764ba2" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <!-- Floating Elements -->
        <Grid>
            <Ellipse Fill="#FFFFFF" 
                     Opacity="0.1" 
                     WidthRequest="150" 
                     HeightRequest="150" 
                     HorizontalOptions="Start" 
                     VerticalOptions="Start" 
                     Margin="-75,-75,0,0"/>
            <Ellipse Fill="#FFFFFF" 
                     Opacity="0.05" 
                     WidthRequest="200" 
                     HeightRequest="200" 
                     HorizontalOptions="End" 
                     VerticalOptions="End" 
                     Margin="0,0,-100,-100"/>
        </Grid>

        <ScrollView>
            <Grid RowDefinitions="Auto,*,Auto" Padding="30,80,30,40" MinimumHeightRequest="700">
            
            <!-- Header Section -->
            <StackLayout Grid.Row="0" Spacing="30" Margin="0,0,0,50">
                <!-- Back Button -->
                <Button x:Name="BackBtn"
                        Text="â† Back"
                        FontSize="16"
                        BackgroundColor="Transparent"
                        TextColor="White"
                        HorizontalOptions="Start"
                        Padding="0"
                        Margin="0,0,0,20"
                        Clicked="OnBackClicked"/>
                
                <!-- Welcome Text -->
                <StackLayout Spacing="15">
                    <Label Text="Welcome Back!" 
                           FontSize="32" 
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"/>
                    <Label Text="Sign in to continue your learning journey" 
                           FontSize="16" 
                           TextColor="White"
                           Opacity="0.9"
                           HorizontalOptions="Center"/>
                </StackLayout>
            </StackLayout>

            <!-- Login Form Card -->
            <Frame Grid.Row="1" 
                   BackgroundColor="White" 
                   CornerRadius="25" 
                   HasShadow="True" 
                   Padding="30"
                   Margin="0,20">
                <Frame.Shadow>
                    <Shadow Brush="Black" Offset="0,10" Radius="30" Opacity="0.2"/>
                </Frame.Shadow>
                
                <StackLayout Spacing="25">
                    <!-- Phone Number Input -->
                    <StackLayout Spacing="10">
                        <Label Text="ðŸ“± Phone Number" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="#2C3E50"/>
                        
                        <Frame BackgroundColor="#F8F9FA" 
                               CornerRadius="15" 
                               HasShadow="False" 
                               BorderColor="Transparent" 
                               Padding="0">
                            <Entry x:Name="PhoneEntry"
                                   Placeholder="254XXXXXXXXX"
                                   Keyboard="Telephone"
                                   FontSize="16"
                                   TextColor="#2C3E50"
                                   PlaceholderColor="#95A5A6"
                                   BackgroundColor="Transparent"
                                   HeightRequest="50"
                                   Margin="20,0"/>
                        </Frame>
                    </StackLayout>

                    <!-- Password Input -->
                    <StackLayout Spacing="10">
                        <Label Text="ðŸ”’ Password" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="#2C3E50"/>
                        
                        <Frame BackgroundColor="#F8F9FA" 
                               CornerRadius="15" 
                               HasShadow="False" 
                               BorderColor="Transparent" 
                               Padding="0">
                            <Grid ColumnDefinitions="*,Auto">
                                <Entry x:Name="PasswordEntry"
                                       Grid.Column="0"
                                       Placeholder="Enter your password"
                                       IsPassword="True"
                                       FontSize="16"
                                       TextColor="#2C3E50"
                                       PlaceholderColor="#95A5A6"
                                       BackgroundColor="Transparent"
                                       HeightRequest="50"
                                       Margin="20,0,0,0"/>
                                
                                <Button x:Name="TogglePasswordBtn"
                                        Grid.Column="1"
                                        Text="ðŸ‘ï¸"
                                        FontSize="18"
                                        BackgroundColor="Transparent"
                                        TextColor="#7F8C8D"
                                        BorderWidth="0"
                                        Padding="15,0"
                                        Clicked="OnTogglePasswordClicked"/>
                            </Grid>
                        </Frame>
                    </StackLayout>

                    <!-- Login Button -->
                    <Button x:Name="LoginBtn"
                            Text="ðŸš€ Sign In"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="#667eea"
                            CornerRadius="15"
                            HeightRequest="55"
                            Margin="0,20,0,0"
                            Clicked="OnLoginClicked">
                        <Button.Shadow>
                            <Shadow Brush="Black" Offset="0,8" Radius="20" Opacity="0.3"/>
                        </Button.Shadow>
                    </Button>

                    <!-- Loading Indicator -->
                    <ActivityIndicator x:Name="LoadingIndicator" 
                                       IsVisible="False" 
                                       IsRunning="False" 
                                       Color="#667eea" 
                                       HeightRequest="40"
                                       Margin="0,10"/>

                    <!-- Error Message -->
                    <Label x:Name="ErrorLabel" 
                           IsVisible="False" 
                           TextColor="#E74C3C" 
                           FontSize="14" 
                           FontAttributes="Bold"
                           HorizontalOptions="Center" 
                           Margin="0,10,0,0"/>

                    <!-- Forgot Password -->
                    <Button Text="Forgot Password?"
                            FontSize="14"
                            TextColor="#667eea"
                            BackgroundColor="Transparent"
                            BorderWidth="0"
                            Margin="0,15,0,0"
                            Clicked="OnForgotPasswordClicked"/>
                </StackLayout>
            </Frame>

            <!-- Bottom Section -->
            <StackLayout Grid.Row="2" Spacing="20" Margin="0,30,0,0">
                <!-- Don't have account -->
                <StackLayout Orientation="Horizontal" 
                             HorizontalOptions="Center" 
                             Spacing="8">
                    <Label Text="Don't have an account?" 
                           FontSize="16" 
                           TextColor="White" 
                           Opacity="0.9"/>
                    <Button Text="Sign Up"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="Transparent"
                            BorderWidth="0"
                            Padding="0"
                            Clicked="OnSignUpClicked"/>
                </StackLayout>

                <!-- App Version -->
                <Label Text="ShuleLink v1.0 - Secure Login" 
                       FontSize="12" 
                       TextColor="White" 
                       Opacity="0.7"
                       HorizontalOptions="Center"/>
            </StackLayout>

        </Grid>
    </ScrollView>
    </Grid>
</ContentPage>
